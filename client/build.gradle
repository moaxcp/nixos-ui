/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/6.8/samples
 */
plugins {
    id "com.github.node-gradle.node" version "2.2.4"
    id 'base'
}

configurations {
    distJar {
        canBeConsumed = true
        canBeResolved = false
    }
}

task run(type: NpxTask) {
    group 'application'
    command = 'vue-cli-service'
    args = ['serve']
}

task vueBuild(type: NpxTask) {
    group 'build'
    command = 'vue-cli-service'
    args = ['build']
    inputs.dir('src')
    outputs.dir('dist')
}

task jar(type: org.gradle.jvm.tasks.Jar) {
    dependsOn vueBuild
    group 'build'
    baseName 'client'
    from vueBuild.outputs
    into 'public'
}

build.dependsOn jar

artifacts {
    distJar jar
}